function CheckIfNeedRelogin(t){}function LoadFoundation(){$(document).foundation()}function LoadSortable(){console.log("LoadSortable"),$(".sortable").sortable({items:".full-row",handle:".handle",forcePlaceholderSize:!0}).bind("sortupdate",function(t,e){console.log("e",t),console.log("ui",e)})}function RemoveTooltips(){$(".tooltip").remove()}function AngularTabClickOverride(){$(".tabs a").click(function(t){var e=$(".tabs .active").index()<$(this).parent().index()?"leave-left":"leave-right";$(".tabs-content").removeClass("leave-left leave-right").addClass(e)})}function FoundationTabCallbackOverride(){$(".tabs").on("toggled",function(t,e){function a(){this.timer=this.timer||null,setTimeout(function(){n.removeClass("no-anim"),o.removeClass("no-anim"),n.addClass("active"),o.removeClass("active"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){o.removeClass("to-right to-left"),n.removeClass("to-right to-left")},500)},10)}var o=$(".tabs-content .active.foundation"),n=$("#"+$(t.currentTarget).children("dd.active").data("tab-panel")),i=o.attr("id").replace("panel-",""),s=n.attr("id").replace("panel-","");console.log(i,s),i>s?(n.addClass("to-left no-anim"),o.addClass("to-right no-anim"),a()):s>i&&(n.addClass("to-right no-anim"),o.addClass("to-left no-anim"),a()),console.log(o,n)})}function All_FilterMenuOpen_Setup(){$(".filter-button").each(function(t,e){var a=$(e),o=a.parents("thead").find(".filter-row .button-group");a.off().click(function(){$(this).hasClass("active")?($(this).removeClass("active"),o.css({"margin-top":-100})):($(this).addClass("active"),o.css({"margin-top":0}))})})}function Estimate_SetActive(t){console.log("Estimate_SetActive"),$(".estimate-list .estimate.active").removeClass("active"),"undefined"!=typeof t&&$(".estimate-list .estimate[data-estimate-id="+t+"]").addClass("active")}function EstimateEdit_JobRoles_Events_Setup(t){$(".change-hours-callback").off("change").change(function(){console.log("change-hours-callback");var e={id:$(this).data("taskid"),taskroleid:$(this).data("taskroleid"),hours:$(this).val()||null};t.changeHours(e)}),$(".change-taskname-callback").off("change").change(function(){console.log("change-taskname-callback");var e={id:$(this).data("entryid"),title:$(this).val()};t.changeTaskname(e)}),$("#estimate-new-name-input").keypress(function(t){13==t.which&&$(this).next(".button").click()}),$(".jobroles-salary-button").off().click(function(t){$(this).hasClass("active")?($(this).removeClass("active"),$(".jobs-roles-salary-edit-row").removeClass("show")):($(this).addClass("active"),$(".jobs-roles-salary-edit-row").addClass("show"))})}function EstimateEdit_Expences_Events_Setup(t){$(".change-exp-callback").off("change").change(function(){console.log("change-exp-callback");var e=$(this).parents("tr"),a={id:$(this).data("expid"),title:e.find(".title-input").val(),units:e.find(".units-input").val()||null,qty:e.find(".qty-input").val()||null,price:e.find(".price-input").val()||null};t.changeExp(a)}),$("#estimate-new-exp-name-input").keypress(function(t){13==t.which&&$(this).next(".button").click()})}function EstimateEdit_BindEstimates_Events_Setup(t){var e=!1;$(".app-bound-other-estimates-content .bind-estimate").off("click").click(function(a){a.preventDefault(),e=!0,$(this).hasClass("binded")?($(this).removeClass("binded"),$(this).find("span").html("bind"),t.unbind_estimate($(this).data("estimateid"))):($(this).addClass("binded"),$(this).find("span").html("unbind"),t.bind_estimate($(this).data("estimateid")))}),$(document).on("closed.fndtn.reveal","[data-reveal]",function(){e&&(t.update_estimates(),e=!1)})}function EstimateEdit_JobRoles_Click_Setup(t){$(".app-groups-content .grid .grid-item").off("click").click(function(){var e=$(this).data("id");$(this).hasClass("selected")?($(this).removeClass("selected"),t.estimate.involved_roles.id.splice(t.estimate.involved_roles.id.indexOf(e),1),t.$digest()):($(this).addClass("selected"),t.estimate.involved_roles.id.push(e),t.$digest())})}function EstimateEdit_JobRoles_Filter(t){var e=t.estimate.involved_roles.id;$(".app-groups-content .grid .grid-item").each(function(){for(key in e)$(this).data("id")==e[key]&&$(this).addClass("selected")})}function Projects_BindOnhoverEffects(t){function e(t){$(t).off("mouseleave").off("mouseenter"),$(t).find(".edit-button-group").removeClass("show"),clearTimeout(_HOVERTIMER)}var t=t||".get-menu";"undefined"==typeof _HOVERTIMER&&(_HOVERTIMER=!1),$(t).off().click(function(t){return $(this).parent().find(".edit-button-group").hasClass("show")?(console.log("Returning"),void $(".edit-button-group").removeClass("show")):($(".edit-button-group").removeClass("show"),$(this).parent().find(".edit-button-group").addClass("show"),void $(this).parent().off("mouseleave").off("mouseenter").mouseleave(function(){var t=this;_HOVERTIMER=setTimeout(function(){e(t)},1500)}).mouseenter(function(){_HOVERTIMER&&clearTimeout(_HOVERTIMER)}))}).parent().off("contextmenu").on("contextmenu",function(e){return $(this).find(t).click(),!1})}function ProjectsOpen_Display_Setup(t){$(".picture-container").each(function(t,e){$(e).width(40*$(e).find("img").size()+45)})}function ProjectsOpen_Click_Setup(t){$(".done-button").click(function(){$(this).hasClass("success")?($(this).removeClass("success"),$(this).parents("tr").removeClass("is-done"),t.done_task($(this).data("taskid"),!1)):($(this).addClass("success"),$(this).parents("tr").addClass("is-done"),t.done_task($(this).data("taskid"),!0))})}function DashboardMy_Dragger_Setup(t){var t=t;$(document).on("opened.fndtn.reveal","[data-reveal]",function(){switch($(this).attr("id")){case"time-select-modal":new Tasks_Dragger_Modal(t,this).open();break;case"user-add-new-task-modal":new Tasks_AddNewTask_Modal(t,this).open()}}),$(document).on("closed.fndtn.reveal","[data-reveal]",function(){switch($(this).attr("id")){case"time-select-modal":new Tasks_Dragger_Modal(t,this).close();break;case"user-add-new-task-modal":new Tasks_AddNewTask_Modal(t,this).close()}})}function Dashboard_D3(t){console.log(t.chartdata.done_pie),c3.generate({bindto:"#chart-spent",data:{columns:t.chartdata.done_pie,type:"donut"},donut:{}}),c3.generate({bindto:"#chart-estimates",data:{columns:t.chartdata.estimate_pie,type:"donut"},donut:{}})}function Dashboard_D3_SingleProject(t){c3.generate({bindto:"#chart-project-overview-min",data:{columns:t.chartdata.project_overview_pie,type:"bar",groups:[]},grid:{y:{show:!0}},axis:{y:{tick:{format:function(t){var e=d3.format(".2r");return e(t/60)+"h"}}},x:{tick:{format:function(t){return""}}}}}),c3.generate({bindto:"#chart-project-overview-roles",data:{json:t.chartdata.project_overview_time_graph,keys:{x:"name",value:["Done","Sold"]},type:"bar",groups:[],colors:{Done:"#CCC",Sold:"#555",3:"#72A73D",4:"#C93B75",5:"#4D4EC9",6:"#FBD25C"}},bar:{width:{ratio:.8}},grid:{y:{show:!0}},axis:{y:{tick:{format:function(t){var e=d3.format(".2r");return e(t/60)+"h"}}},x:{type:"category"}}}),c3.generate({bindto:"#chart-project-overview",data:{x:"x",columns:t.chartdata.project_overview,type:"area",names:{1:"PV",2:"Radošais direktors",3:"Tekstu autors",4:"Dizaineris",5:"Maketētājs",6:"Programmētājs"},colors:{1:"#C9674A",2:"#4AC9A5",3:"#72A73D",4:"#C93B75",5:"#4D4EC9",6:"#FBD25C"},hide:["1a","1b","1_","1"]},tooltip:{format:{value:function(t,e,a){var o=d3.format(".2r");if("b"==a[1])var t=t+json[a[0]+"a"];return o(t/60)+"h"}}},legend:{},axis:{x:{type:"timeseries",tick:{format:"%Y-%m-%d"}},y:{tick:{format:function(t){var e=d3.format(".2r");return e(t/60)+"h"}}}},subchart:{}})}function Dashboard_OnClick_Setup(t){$(".estimate-row-title").off().click(function(){var t=$(this).next(".estimate-details");t.hasClass("closed")?t.removeClass("closed"):t.addClass("closed")})}function DashboardCascade_OnClick_Setup(){$(".row-title").off().click(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(this).next(".row-child").hide(100),$(this).next(".row-child").find(".row-title").removeClass("open"),$(this).next(".row-child").find(".row-child").hide(100)):($(this).addClass("open"),$(this).next(".row-child").show(100))})}function Tasks_ShowHideDone_Click_Setup(){$(".done-task-filter").click(function(){$(this).hasClass("filter-on")?($(this).removeClass("filter-on"),$("table.done-task-filter-on").addClass("done-task-filter-off").removeClass("done-task-filter-on")):($(this).addClass("filter-on"),$("table.done-task-filter-off").addClass("done-task-filter-on").removeClass("done-task-filter-off"))})}function Tasks_AddNewTask_Modal(t,e){this.open=function(){var e={keys:["client.title","title"]},a=_(t.projects).first(t.projects.length);t.Fuse=new Fuse(a,e),console.log(t.projects,a)},this.close=function(){$(e).find(".modal-error-area").fadeOut(0),$(e).find(".fuzzy-searchresults table").fadeOut(0),$(e).find(".postfix").removeClass("success").find("i").fadeOut(0);try{t.newTask.jobroles_o=null,t.newTask.title="",t.fuzzy.selected="",t.fuzzy.searchstring=""}catch(a){}}}function Tasks_Info_Show_Edit(){$("a.edit-page-task-info").click(function(){var t=this;$(".info-edit-row").addClass("show")}),$(".info-edit-row").find("a.cancel-edit").click(function(){$(".info-edit-row").removeClass("show")})}function Tasks_BindUsersModal_Setup(){console.log("Started Doing things"),$(".search-col input").off("onfocus","onblur").focus(function(){console.log("Interaction Focus")})}function Tasks_Dragger_Modal(t){var t=t;this.open=function(){$(".override").click(function(){$(".slider").css({top:-150}),$(".manual-override").css({top:-95})});var e=new Dragdealer("time-select-slider",{slide:!1,css3:!0,animationCallback:function(e,a){var o=Math.round(480*e);o=15*Math.round(o/15);var n=moment().startOf("hour").hour(0).minute(o);t.hours=n.hours(),t.minutes=n.minutes()||"00",$(".digital-clock .hour").text(n.hours()),$(".digital-clock .minute").text(Math.round(n.minutes())||"00"),$(".digital-clock .display").css({left:e*_TIMESELECTSLIDER_WIDTH-e*_DIGITALCLOCKDISPLAY_WIDTH})},ready:function(){_TIMESELECTSLIDER_WIDTH=$("#time-select-slider").width(),_DIGITALCLOCKDISPLAY_WIDTH=20,$(".digital-clock .display > *").each(function(){_DIGITALCLOCKDISPLAY_WIDTH+=$(this).width()}),$(".digital-clock .display").width(_DIGITALCLOCKDISPLAY_WIDTH)}}),a=t.passobject.timelog.minutes/480;a>1?setTimeout(function(){$(".override").click();var e=moment().startOf("hour").hour(0).minute(t.passobject.timelog.minutes);console.log(e),t.hours=e.hours(),t.minutes=15*Math.round(e.minutes()/15)||"00",t.$digest()},110):e.setValue(a,0)},this.close=function(){console.log($(this)),$(".slider").css({top:0}),$(".manual-override").css({top:150})}}function Reports_users_Click_Setup(t){$(".user-picture-row a.click-bind").off().click(function(){t.open_user($(this).data("userid")),$(this).parent("div").siblings(".each-user").removeClass("active"),$(this).parent("div").addClass("active")})}function Reports_bonus_Dragger_Setup(t){if(t){"undefined"==typeof loading_dragger&&Reports_bonus_Dragger_Setup();var e=loading_dragger.getValue();return e[0]+=t,loading_dragger.setValue(e[0],e[1]),e[0]>=1&&setTimeout(function(){$(".loading-row .columns").fadeOut(500,function(){delete loading_dragger})},2e3),e[0]}loading_dragger=new Dragdealer("loading-slider",{slide:!1,css3:!1,animationCallback:function(t,e){$("#loading-slider").find(".handle h6").text(Math.round(100*t)+"%")},ready:function(){}}),loading_dragger.disable()}function Reports_bonus_D3(){var t=function(t,e,a,o,n){var n=parseInt(n);console.log("period::",n),c3.generate({bindto:o,data:{json:a,type:"bar",order:null,labels:{format:function(t,e){var o=d3.format("f");if("undefined"!=typeof e&&"b"==e[1])var t=t+a[e[0]+"a"];return o(t/60)+"h"}},bar:{width:{width:"100"}},groups:[["1a","1b"],["2a","2b"],["3a","3b"],["4a","4b"],["5a","5b"],["6a","6b"],["9a","9b"]],names:{"1a":"PV - Pārdotās","2a":"Radošais direktors - Pārdotās","3a":"Tekstu autors - Pārdotās","4a":"Dizaineris - Pārdotās","5a":"Maketētājs - Pārdotās","6a":"Programmētājs - Pārdotās","1b":"PV - Padarītās","2b":"Radošais direktors - Padarītās","3b":"Tekstu autors - Padarītās","4b":"Dizaineris - Padarītās","5b":"Maketētājs - Padarītās","6b":"Programmētājs - Padarītās","9a":"Kopā Pārdotās","9b":"Kopā Padarītās"},colors:{"1a":"#C9674A","2a":"#4AC9A5","3a":"#72A73D","4a":"#C93B75","5a":"#4D4EC9","6a":"#FBD25C","1b":"#bbb","2b":"#bbb","3b":"#bbb","4b":"#bbb","5b":"#bbb","6b":"#bbb","9a":"#444","9b":"#bbb"},hide:["1a","1b","1_"]},tooltip:{format:{value:function(t,e,o){var n=d3.format("f");if("b"==o[1])var t=t+a[o[0]+"a"];return n(t/60)+"h"}}},grid:{y:{show:!0}},axis:{rotated:!0,y:{min:n,max:n,tick:{format:function(t){var e=d3.format(".2r");return e(t/60)+"h"}},padding:{top:0,bottom:0}},x:{tick:{format:function(t){return""}},padding:{top:0,bottom:0}}}})},e=function(){},a=$(".dashboard-bonus .user-picture-row").attr("data-period");console.log("__PERIOD",a),$(".dashboard-bonus .chart").each(function(e,o){var n="#"+$(o).attr("id"),i=$(o).data("mins"),s=$(o).data("title"),r=$(o).data("sold-json"),l=$(o).data("done-json"),d=$(o).data("json");t(i,s,d,n,a)})}function ClientsLoaded(){}function e404Loaded(){$(".page-404").height(.8*$(window).height())}function ManualsLoaded(){var t=960,e=d3.layout.tree().size([360,t/2-120]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),a=d3.svg.diagonal.radial().projection(function(t){return[t.y,t.x/180*Math.PI]}),o=d3.select(".manual-body").append("svg").attr("width",t).attr("height",t+100).append("g").attr("transform","translate("+t/2+","+t/2+")");d3.json("flare.json",function(t,n){var i=e.nodes(n),s=e.links(i),r=o.selectAll(".link").data(s).enter().append("path").attr("class","link").attr("d",a),l=o.selectAll(".node").data(i).enter().append("g").attr("class","node").attr("transform",function(t){return"rotate("+(t.x-90)+")translate("+t.y+")"});l.append("circle").attr("r",4.5),l.append("text").attr("dy",".31em").attr("text-anchor",function(t){return t.x<180?"start":"end"}).attr("transform",function(t){return t.x<180?"translate(8)":"rotate(180)translate(-8)"}).text(function(t){return t.name})})}function exampleData(){return[{label:"One",value:29.765957771107},{label:"Two",value:0},{label:"Three",value:32.807804682612},{label:"Four",value:196.45946739256},{label:"Five",value:.19434030906893},{label:"Six",value:98.079782601442},{label:"Seven",value:13.925743130903},{label:"Eight",value:5.1387322875705}]}function exampleData2(){return[{label:"One",value:29.765957771107},{label:"Two",value:100},{label:"Three",value:32.807804682612},{label:"Four",value:196.45946739256},{label:"Five",value:.19434030906893},{label:"Six",value:12.079782601442},{label:"Seven",value:13.925743130903},{label:"Eight",value:4.1387322875705}]}__FOUNDATION_LOADED=!1,__MENU_HOVER_TIMEOUT=!1,$(".app-menu").hover(function(t){__MENU_HOVER_TIMEOUT&&clearTimeout(__MENU_HOVER_TIMEOUT),__MENU_HOVER_TIMEOUT=setTimeout(function(){$(".app-container").addClass("show-menu"),clearTimeout(__MENU_HOVER_TIMEOUT),__MENU_HOVER_TIMEOUT=!1},2e3)},function(){__MENU_HOVER_TIMEOUT&&clearTimeout(__MENU_HOVER_TIMEOUT),__MENU_HOVER_TIMEOUT=setTimeout(function(){$(".app-container").removeClass("show-menu"),clearTimeout(__MENU_HOVER_TIMEOUT),__MENU_HOVER_TIMEOUT=!1},300)}),$(".app-menu").click(function(t){$(".app-container").addClass("show-menu")}),$(".app-menu a").off().click(function(t){$(this).parents("li").hasClass("disabled")?(t.preventDefault(),t.stopPropagation()):($(this).parents("li").addClass("active").siblings("li").removeClass("active"),$(".app-container").removeClass("show-menu"),t.stopPropagation())}),$(window).load(function(){console.log("Loaded!!!"),$("body").removeClass("preload-animations-disabled")});
//# sourceMappingURL=./interaction-ck.js.map