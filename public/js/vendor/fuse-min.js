/**
 * @license
 * Fuse - Lightweight fuzzy-search
 *
 * Copyright (c) 2012 Kirollos Risk <kirollos@gmail.com>.
 * All Rights Reserved. Apache Software License 2.0
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,o,s;for(i=0,keys=["sort","includeScore","shouldSort"],o=keys.length;o>i;i++)s=keys[i],this.options[s]=s in n?n[s]:e.defaultOptions[s];for(i=0,keys=["searchFn","sortFn","keys","getFn"],o=keys.length;o>i;i++)s=keys[i],this.options[s]=n[s]||e.defaultOptions[s]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i=t.length,o=this.options.location,s=this.options.threshold,r=t.indexOf(this.pattern,o),a,h,p=this.patternLen+i,c,l,f,u,d,g=1,m=[];for(-1!=r&&(s=Math.min(this._bitapScore(0,r),s),r=t.lastIndexOf(this.pattern,o+this.patternLen),-1!=r&&(s=Math.min(this._bitapScore(0,r),s))),r=-1,e=0;e<this.patternLen;e++){for(a=0,h=p;h>a;)this._bitapScore(e,o+h)<=s?a=h:p=h,h=Math.floor((p-a)/2+a);for(p=h,c=Math.max(1,o-h+1),l=Math.min(o+h,i)+this.patternLen,f=Array(l+2),f[l+1]=(1<<e)-1,n=l;n>=c;n--)if(d=this.patternAlphabet[t.charAt(n-1)],f[n]=0===e?(f[n+1]<<1|1)&d:(f[n+1]<<1|1)&d|((u[n+1]|u[n])<<1|1)|u[n+1],f[n]&this.matchmask&&(g=this._bitapScore(e,n-1),s>=g)){if(s=g,r=n-1,m.push(r),!(r>o))break;c=Math.max(1,2*o-r)}if(this._bitapScore(e+1,o)>s)break;u=f}return{isMatch:r>=0,score:g}};var i={deepValue:function(t,e){for(var n=0,e=e.split("."),i=e.length;i>n;n++){if(!t)return null;t=t[e[n]]}return t}};e.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:i.deepValue,keys:[]},e.prototype.search=function(t){var e=new this.options.searchFn(t,this.options),n,i,o,s=this.list,r=s.length,a=this.options,h=this.options.keys,p=h.length,c,l=[],f={},u,d=[],g=function(t,n,i){void 0!==t&&null!==t&&"string"==typeof t&&(c=e.search(t),c.isMatch&&(u=f[i],u?u.score=Math.min(u.score,c.score):(f[i]={item:n,score:c.score},l.push(f[i]))))};if("string"==typeof s[0])for(var n=0;r>n;n++)g(s[n],n,n);else for(var n=0;r>n;n++)for(o=s[n],i=0;p>i;i++)g(a.getFn(o,h[i]),o,n);a.shouldSort&&l.sort(a.sortFn);for(var m=a.includeScore?function(t){return l[t]}:function(t){return l[t].item},y=a.id?function(t){l[t].item=a.getFn(l[t].item,a.id)}:function(t){},n=0,L=l.length;L>n;n++)y(n),d.push(m(n));return d},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this);
//# sourceMappingURL=./fuse-min.map